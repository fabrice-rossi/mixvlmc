<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="description" content="This function extracts all the contexts from a fitted VLMC, possibly with
some associated data."><title>Contexts of a VLMC — contexts.vlmc • mixvlmc</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.11/clipboard.min.js" integrity="sha512-7O5pXpc0oCRrxk8RUfDYFgn0nO1t+jLuIOQdOMRp4APB7uZ4vSjspzp5y6YDtDs4VzUSTbWzBFZ/LKJhnyFOKw==" crossorigin="anonymous" referrerpolicy="no-referrer"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Contexts of a VLMC — contexts.vlmc"><meta property="og:description" content="This function extracts all the contexts from a fitted VLMC, possibly with
some associated data."><meta name="robots" content="noindex"><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light" data-bs-theme="light"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">mixvlmc</a>

    <small class="nav-text text-danger me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="In-development version">0.2.1.9000</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <h6 class="dropdown-header" data-toc-skip>Getting started</h6>
    <a class="dropdown-item" href="../articles/context-trees.html">Context trees</a>
    <a class="dropdown-item" href="../articles/variable-length-markov-chains.html">Variable length Markov chains (VLMC)</a>
    <a class="dropdown-item" href="../articles/covlmc.html">Variable Length Markov Chains with Covariates (COVLMC)</a>
    <div class="dropdown-divider"></div>
    <h6 class="dropdown-header" data-toc-skip>Advanced topics</h6>
    <a class="dropdown-item" href="../articles/likelihood.html">Likelihood calculation</a>
    <a class="dropdown-item" href="../articles/prediction.html">Predicting with (CO)VLMC</a>
    <a class="dropdown-item" href="../articles/sampling.html">Sampling from (CO)VLMC</a>
    <div class="dropdown-divider"></div>
    <a class="dropdown-item" href="../articles/index.html">More articles...</a>
  </div>
</li>
<li class="nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-news">News</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-news">
    <h6 class="dropdown-header" data-toc-skip>Releases</h6>
    <a class="external-link dropdown-item" href="https://fabrice-rossi.github.io/blog/posts/mixvlmc-0-2.html">mixvlmc 0.2.0</a>
    <a class="external-link dropdown-item" href="https://fabrice-rossi.github.io/blog/posts/mixvlmc-0-1.html">mixvlmc 0.1.1</a>
    <div class="dropdown-divider"></div>
    <a class="dropdown-item" href="../news/index.html">Changelog</a>
  </div>
</li>
      </ul><form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off"></form>

      <ul class="navbar-nav"><li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/fabrice-rossi/mixvlmc/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div>

    
  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="" class="logo" alt=""><h1>Contexts of a VLMC</h1>
      <small class="dont-index">Source: <a href="https://github.com/fabrice-rossi/mixvlmc/blob/HEAD/R/vlmc_contexts.R" class="external-link"><code>R/vlmc_contexts.R</code></a>, <a href="https://github.com/fabrice-rossi/mixvlmc/blob/HEAD/R/vlmc_contexts_cpp.R" class="external-link"><code>R/vlmc_contexts_cpp.R</code></a></small>
      <div class="d-none name"><code>contexts.vlmc.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>This function extracts all the contexts from a fitted VLMC, possibly with
some associated data.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="co"># S3 method for vlmc</span></span>
<span><span class="fu"><a href="contexts.html">contexts</a></span><span class="op">(</span></span>
<span>  <span class="va">ct</span>,</span>
<span>  sequence <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  reverse <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  frequency <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  positions <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  local <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  cutoff <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  metrics <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  <span class="va">...</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># S3 method for vlmc_cpp</span></span>
<span><span class="fu"><a href="contexts.html">contexts</a></span><span class="op">(</span></span>
<span>  <span class="va">ct</span>,</span>
<span>  sequence <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  reverse <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  frequency <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  positions <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  local <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  cutoff <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  metrics <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  <span class="va">...</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>
    <dl><dt>ct</dt>
<dd><p>a context tree.</p></dd>


<dt>sequence</dt>
<dd><p>if <code>TRUE</code> the function returns its results as a <code>data.frame</code>,
if <code>FALSE</code> (default) as a list of <code>ctx_node</code> objects. (see details)</p></dd>


<dt>reverse</dt>
<dd><p>logical (defaults to <code>FALSE</code>). See details.</p></dd>


<dt>frequency</dt>
<dd><p>specifies the counts to be included in the result
data.frame. The default value of <code>NULL</code> does not include anything.
<code>"total"</code> gives the number of occurrences of each context in the original
sequence. <code>"detailed"</code> includes in addition the break down of these
occurrences into all the possible states.</p></dd>


<dt>positions</dt>
<dd><p>logical (defaults to FALSE). Specify whether the positions
of each context in the time series used to build the context tree should be
reported in a <code>positions</code> column of the result data frame. The availability
of the positions depends on the way the context tree was built. See details
for the definition of a position.</p></dd>


<dt>local</dt>
<dd><p>specifies how the counts reported by <code>frequency</code> are computed.
When <code>local</code> is <code>FALSE</code> (default value) the counts include both counts that
are specific to the context (if any) and counts from the descendants of the
context in the tree. When <code>local</code> is <code>TRUE</code> the counts include only the
number of times the context appears without being the last part of a longer
context.</p></dd>


<dt>cutoff</dt>
<dd><p>specifies whether to include the cut off value associated to
each context (see <code><a href="cutoff.html">cutoff()</a></code> and <code><a href="prune.html">prune()</a></code>). The default result with
<code>cutoff=NULL</code> does not include those values. Setting <code>cutoff</code> to <code>quantile</code>
adds the cut off values in quantile scale, while <code>cutoff="native"</code> adds
them in the native scale. The returned values are directly based on the log
likelihood ratio computed in the context tree and are not modified to
ensure pruning (as when <code><a href="cutoff.html">cutoff()</a></code> is called by  <code>raw=TRUE</code>).</p></dd>


<dt>metrics</dt>
<dd><p>if TRUE, adds predictive metrics for each context (see
<code><a href="metrics.html">metrics()</a></code> for the definition of predictive metrics).</p></dd>


<dt>...</dt>
<dd><p>additional arguments for the contexts function.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    

<p>A list of class <code>contexts</code> containing the contexts represented in
this tree (as <code>ctx_node</code>) or a data.frame.</p>
    </div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>The default behaviour of the function is to return a list of all the
contexts using <code>ctx_node</code> objects (as returned by <code><a href="find_sequence.html">find_sequence()</a></code>). The
properties of the contexts can then be explored using adapted functions
such as <code><a href="counts.html">counts()</a></code>, <code><a href="cutoff.ctx_node.html">cutoff.ctx_node()</a></code>, <code><a href="metrics.ctx_node.html">metrics.ctx_node()</a></code> and
<code><a href="positions.html">positions()</a></code>.</p>
<p>When <code>sequence=TRUE</code> the method returns a data.frame whose first column,
named <code>context</code>, contains the contexts as vectors (i.e. the value returned
by <code><a href="as_sequence.html">as_sequence()</a></code> applied to a <code>ctx_node</code> object). Other columns contain
context specific values specified by the additional parameters. Setting any
of those parameters to a value that ask for reporting information will
toggle the result type of the function to <code>data.frame</code>.</p>
<p>The <code>frequency</code> parameter is described in details in the documentation of
<code><a href="contexts.ctx_tree.html">contexts.ctx_tree()</a></code>. When <code>cutoff</code> is non <code>NULL</code>, the resulting
<code>data.frame</code> contains a <code>cutoff</code> column with the cut off values, either in
quantile or in native scale. See <code><a href="cutoff.vlmc.html">cutoff.vlmc()</a></code> and <code><a href="prune.html">prune.vlmc()</a></code> for the
definitions of cut off values and of the two scales.</p>
    </div>
    <div class="section level2">
    <h2 id="cut-off-values">Cut off values<a class="anchor" aria-label="anchor" href="#cut-off-values"></a></h2>
    <p>The cut off values reported by <code>contexts.vlmc</code> can
be different from the ones reported by <code><a href="cutoff.vlmc.html">cutoff.vlmc()</a></code> for three reasons:</p><ol><li><p><code><a href="cutoff.vlmc.html">cutoff.vlmc()</a></code> reports only useful cut off values, i.e., cut off values
that should induce a simplification of the VLMC when used in <code><a href="prune.html">prune()</a></code>.
This exclude cut off values associated to simple contexts that are smaller
than the ones of their descendants in the context tree. Those values are
reported by <code>context.vlmc</code>.</p></li>
<li><p><code>context.vlmc</code> reports only cut off values of actual contexts, while
<code><a href="cutoff.vlmc.html">cutoff.vlmc()</a></code> reports cut off values for all nodes of the context tree.</p></li>
<li><p>values are not modified to induce pruning, contrarily to the default
behaviour of <code><a href="cutoff.vlmc.html">cutoff.vlmc()</a></code></p></li>
</ol></div>
    <div class="section level2">
    <h2 id="positions">Positions<a class="anchor" aria-label="anchor" href="#positions"></a></h2>
    <p>A position of a context <code>ctx</code> in the time series <code>x</code> is
an index value <code>t</code> such that the context ends with <code>x[t]</code>. Thus <code>x[t+1]</code> is
after the context. For instance if <code>x=c(0, 0, 1, 1)</code> and <code>ctx=c(0, 1)</code> (in
standard state order), then the position of <code>ctx</code> in <code>x</code> is 3.</p>
    </div>
    <div class="section level2">
    <h2 id="state-order-in-a-context">State order in a context<a class="anchor" aria-label="anchor" href="#state-order-in-a-context"></a></h2>
    <p>Notice that contexts are given by default
in the temporal order and not in the "reverse" order used by many VLMC
research papers: older values are on the left. For instance, the context
<code>c(1, 0)</code> is reported if the sequence 0, then 1 appeared in the time series
used to build the context tree. Set reverse to <code>TRUE</code> for the reverse
convention which is somewhat easier to relate to the way the context trees
are represented by <code><a href="draw.html">draw()</a></code> (i.e. recent values at the top the tree).</p>
    </div>
    <div class="section level2">
    <h2 id="see-also">See also<a class="anchor" aria-label="anchor" href="#see-also"></a></h2>
    <div class="dont-index"><p><code><a href="find_sequence.html">find_sequence()</a></code> and <code><a href="find_sequence.covlmc.html">find_sequence.covlmc()</a></code> for direct access to
a specific context, and <code><a href="contexts.ctx_tree.html">contexts.ctx_tree()</a></code>, <code>contexts.vlmc()</code> and
<code><a href="contexts.covlmc.html">contexts.covlmc()</a></code> for concrete implementations of <code><a href="contexts.html">contexts()</a></code>.</p></div>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="va">rdts</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/sample.html" class="external-link">sample</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/factor.html" class="external-link">as.factor</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"A"</span>, <span class="st">"B"</span>, <span class="st">"C"</span><span class="op">)</span><span class="op">)</span>, <span class="fl">100</span>, replace <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">model</span> <span class="op">&lt;-</span> <span class="fu"><a href="vlmc.html">vlmc</a></span><span class="op">(</span><span class="va">rdts</span>, alpha <span class="op">=</span> <span class="fl">0.5</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="co">## direct representation with ctx_node objects</span></span></span>
<span class="r-in"><span><span class="va">model_ctxs</span> <span class="op">&lt;-</span> <span class="fu"><a href="contexts.html">contexts</a></span><span class="op">(</span><span class="va">model</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">model_ctxs</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Contexts:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  A, A, A, A, A</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  A, A, A, A</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  C, A, A, A</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  A, A, A</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  B, A, A</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  C, A, A</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  A, B, B, A</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  B, B, B, A</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  B, B, A</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  B, B, C, B, A</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  B, C, B, A</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  C, B, A</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  B, A</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  A, C, A</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  C, C, A</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  C, A</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  A, A, B</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  C, B, A, B</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  B, A, B</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  A, B</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  A, B, B</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  B, B, B</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  A, C, B, B</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  B, C, B, B</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  C, C, B, B</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  A, C, B</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  A, A, B, C, B</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  A, B, C, B</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  B, B, C, B</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  C, B, C, B</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  C, C, B</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  B, A, A, C</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  A, A, C</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  A, C</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  B, C</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  B, B, C, C</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  C, B, C, C</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  B, C, C</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  C, C</span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/lapply.html" class="external-link">sapply</a></span><span class="op">(</span><span class="va">model_ctxs</span>, <span class="va">cutoff</span>, scale <span class="op">=</span> <span class="st">"quantile"</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [1] 0.5000000 0.7500000 0.4746094 0.7448130 0.1440000 0.3835669 0.3600000</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [8] 0.1600000 0.6381667 0.5000000 1.0000000 0.6049383 0.2977146 0.4444444</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [15] 0.5000000 0.5549005 0.2962963 0.2448980 0.5516058 0.6756805 0.2304279</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [22] 0.3840464 0.4444444 0.4444444 0.4444444 0.3542274 0.4444444 0.2109375</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [29] 0.4218750 0.5000000 0.3542274 0.4444444 0.6480000 0.2405726 0.1377921</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [36] 0.2500000 0.2500000 1.0000000 0.1227942</span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/lapply.html" class="external-link">sapply</a></span><span class="op">(</span><span class="va">model_ctxs</span>, <span class="va">cutoff</span>, scale <span class="op">=</span> <span class="st">"native"</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [1]  6.931472e-01  2.876821e-01  7.452632e-01  2.946220e-01  1.937942e+00</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [6]  9.582412e-01  1.021651e+00  1.832581e+00  4.491557e-01  6.931472e-01</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [11] 4.940656e-324  5.026289e-01  1.211620e+00  8.109302e-01  6.931472e-01</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [16]  5.889665e-01  1.216395e+00  1.406914e+00  5.949217e-01  3.920350e-01</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [21]  1.467817e+00  9.569918e-01  8.109302e-01  8.109302e-01  8.109302e-01</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [26]  1.037816e+00  8.109302e-01  1.556193e+00  8.630462e-01  6.931472e-01</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [31]  1.037816e+00  8.109302e-01  4.338646e-01  1.424733e+00  1.982009e+00</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [36]  1.386294e+00  1.386294e+00 4.940656e-324  2.097246e+00</span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/lapply.html" class="external-link">sapply</a></span><span class="op">(</span><span class="va">model_ctxs</span>, <span class="kw">function</span><span class="op">(</span><span class="va">x</span><span class="op">)</span> <span class="fu"><a href="metrics.html">metrics</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span><span class="op">$</span><span class="va">accuracy</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [1] 0.5000000 0.5000000 0.6666667 1.0000000 0.6666667 0.7500000 1.0000000</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [8] 1.0000000 1.0000000 0.5000000 0.5000000       NaN 0.6666667 0.5000000</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [15] 0.6666667 1.0000000 0.7500000 0.5000000 0.6000000 0.0000000 0.6666667</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [22] 0.6666667 0.5000000 0.5000000 1.0000000 0.6666667 1.0000000 0.0000000</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [29] 0.6666667 0.5000000 0.6666667 1.0000000 0.0000000 1.0000000 0.5333333</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [36] 1.0000000 1.0000000 0.5000000       NaN</span>
<span class="r-in"><span><span class="co">## data.frame format</span></span></span>
<span class="r-in"><span><span class="fu"><a href="contexts.html">contexts</a></span><span class="op">(</span><span class="va">model</span>, frequency <span class="op">=</span> <span class="st">"total"</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>         context freq</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1  A, A, A,....    2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2    A, A, A, A    4</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3    C, A, A, A    3</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4       A, A, A    8</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5       B, A, A    3</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 6       C, A, A    4</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 7    A, B, B, A    2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 8    B, B, B, A    2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 9       B, B, A    5</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 10 B, B, C,....    2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 11   B, C, B, A    4</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 12      C, B, A    4</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 13         B, A   12</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 14      A, C, A    2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 15      C, C, A    3</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 16         C, A    6</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 17      A, A, B    4</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 18   C, B, A, B    2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 19      B, A, B    7</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 20         A, B   12</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 21      A, B, B    3</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 22      B, B, B    3</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 23   A, C, B, B    2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 24   B, C, B, B    2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 25   C, C, B, B    2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 26      A, C, B    3</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 27 A, A, B,....    2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 28   A, B, C, B    3</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 29   B, B, C, B    3</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 30   C, B, C, B    2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 31      C, C, B    3</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 32   B, A, A, C    2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 33      A, A, C    3</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 34         A, C    5</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 35         B, C   15</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 36   B, B, C, C    2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 37   C, B, C, C    2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 38      B, C, C    6</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 39         C, C    6</span>
<span class="r-in"><span><span class="fu"><a href="contexts.html">contexts</a></span><span class="op">(</span><span class="va">model</span>, cutoff <span class="op">=</span> <span class="st">"quantile"</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>         context    cutoff</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1  A, A, A,.... 0.5000000</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2    A, A, A, A 0.7500000</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3    C, A, A, A 0.4746094</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4       A, A, A 0.7448130</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5       B, A, A 0.1440000</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 6       C, A, A 0.3835669</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 7    A, B, B, A 0.3600000</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 8    B, B, B, A 0.1600000</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 9       B, B, A 0.6381667</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 10 B, B, C,.... 0.5000000</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 11   B, C, B, A 1.0000000</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 12      C, B, A 0.6049383</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 13         B, A 0.2977146</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 14      A, C, A 0.4444444</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 15      C, C, A 0.5000000</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 16         C, A 0.5549005</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 17      A, A, B 0.2962963</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 18   C, B, A, B 0.2448980</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 19      B, A, B 0.5516058</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 20         A, B 0.6756805</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 21      A, B, B 0.2304279</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 22      B, B, B 0.3840464</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 23   A, C, B, B 0.4444444</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 24   B, C, B, B 0.4444444</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 25   C, C, B, B 0.4444444</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 26      A, C, B 0.3542274</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 27 A, A, B,.... 0.4444444</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 28   A, B, C, B 0.2109375</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 29   B, B, C, B 0.4218750</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 30   C, B, C, B 0.5000000</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 31      C, C, B 0.3542274</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 32   B, A, A, C 0.4444444</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 33      A, A, C 0.6480000</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 34         A, C 0.2405726</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 35         B, C 0.1377921</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 36   B, B, C, C 0.2500000</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 37   C, B, C, C 0.2500000</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 38      B, C, C 1.0000000</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 39         C, C 0.1227942</span>
<span class="r-in"><span><span class="fu"><a href="contexts.html">contexts</a></span><span class="op">(</span><span class="va">model</span>, cutoff <span class="op">=</span> <span class="st">"native"</span>, metrics <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>         context    cutoff  accuracy auc</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1  A, A, A,.... 0.6931472 0.5000000  NA</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2    A, A, A, A 0.2876821 0.5000000  NA</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3    C, A, A, A 0.7452632 0.6666667  NA</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4       A, A, A 0.2946220 1.0000000  NA</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5       B, A, A 1.9379420 0.6666667  NA</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 6       C, A, A 0.9582412 0.7500000  NA</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 7    A, B, B, A 1.0216512 1.0000000  NA</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 8    B, B, B, A 1.8325815 1.0000000  NA</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 9       B, B, A 0.4491557 1.0000000  NA</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 10 B, B, C,.... 0.6931472 0.5000000  NA</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 11   B, C, B, A 0.0000000 0.5000000  NA</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 12      C, B, A 0.5026289       NaN  NA</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 13         B, A 1.2116201 0.6666667  NA</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 14      A, C, A 0.8109302 0.5000000  NA</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 15      C, C, A 0.6931472 0.6666667  NA</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 16         C, A 0.5889665 1.0000000  NA</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 17      A, A, B 1.2163953 0.7500000  NA</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 18   C, B, A, B 1.4069136 0.5000000  NA</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 19      B, A, B 0.5949217 0.6000000  NA</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 20         A, B 0.3920350 0.0000000  NA</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 21      A, B, B 1.4678175 0.6666667  NA</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 22      B, B, B 0.9569918 0.6666667  NA</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 23   A, C, B, B 0.8109302 0.5000000  NA</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 24   B, C, B, B 0.8109302 0.5000000  NA</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 25   C, C, B, B 0.8109302 1.0000000  NA</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 26      A, C, B 1.0378162 0.6666667  NA</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 27 A, A, B,.... 0.8109302 1.0000000  NA</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 28   A, B, C, B 1.5561934 0.0000000  NA</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 29   B, B, C, B 0.8630462 0.6666667  NA</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 30   C, B, C, B 0.6931472 0.5000000  NA</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 31      C, C, B 1.0378162 0.6666667  NA</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 32   B, A, A, C 0.8109302 1.0000000  NA</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 33      A, A, C 0.4338646 0.0000000  NA</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 34         A, C 1.4247334 1.0000000  NA</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 35         B, C 1.9820093 0.5333333 0.5</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 36   B, B, C, C 1.3862944 1.0000000  NA</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 37   C, B, C, C 1.3862944 1.0000000  NA</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 38      B, C, C 0.0000000 0.5000000  NA</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 39         C, C 2.0972457       NaN  NA</span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by <a href="https://fabrice-rossi.github.io/" class="external-link">Fabrice Rossi</a>.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.9.</p>
</div>

    </footer></div>

  

  

  </body></html>

